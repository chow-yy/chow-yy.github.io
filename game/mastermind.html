<!-- polished by ChatGPT -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Mastermind Mini Game</title>
<style>
  body {
    background-color: #f6f1e7;
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    padding-top: 40px;
  }

  h1 {
    margin-bottom: 20px;
    color: #333333;
  }

  .controls {
    margin-bottom: 20px;
  }

  .mastermind-board {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .mastermind-row {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .guess-box {
    width: 40px;
    height: 40px;
    background-color: #ffffff;
    border: 2px solid #333333;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-size: 1.2rem;
  }

  .result-box {
    min-width: 80px;
    height: 40px;
    background-color: #fff6cc;
    border: 2px solid #333333;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
  }

  input[type="number"], button {
    padding: 8px;
    border-radius: 6px;
    border: 1px solid #999;
    font-size: 1rem;
  }

  button {
    background-color: #333333;
    color: #fff;
    cursor: pointer;
  }

  button:hover {
    background-color: #555555;
  }
</style>
</head>
<body>

<h1>Mastermind Mini Game</h1>

<div class="controls">
  <label>Enter N (6â€“20): </label>
  <input type="number" id="numInput" min="6" max="20" value="6">
  <button onclick="startGame()">Start Game</button>
</div>

<div class="controls">
  <label>Your Guess (comma-separated): </label>
  <input type="text" id="guessInput" placeholder="e.g. 1,2,3,4,5,6" />
  <button onclick="submitGuess()">Submit</button>
</div>

<div class="mastermind-board" id="board"></div>

<script>
let R = [];
let N = 0;

function startGame() {
  N = parseInt(document.getElementById('numInput').value);
  if (isNaN(N) || N < 6 || N > 20) {
    alert('Please enter an integer between 6 and 20.');
    return;
  }

  // Generate and shuffle [1..N]
  R = Array.from({length: N}, (_, i) => i + 1);
  for (let i = R.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [R[i], R[j]] = [R[j], R[i]];
  }

  document.getElementById('board').innerHTML = '';
  alert(`Game started with ${N} numbers! Try to guess.`);
}

function submitGuess() {
  if (R.length === 0) {
    alert('Start the game first!');
    return;
  }

  const input = document.getElementById('guessInput').value.trim();
  const T = input.split(',').map(x => parseInt(x.trim()));

  if (T.length !== N || T.some(isNaN)) {
    alert(`Please enter exactly ${N} integers separated by commas.`);
    return;
  }

  // Compute A and B
  let A = 0, B = 0;
  for (let i = 0; i < N; i++) {
    if (T[i] === R[i]) A++;
  }
  for (let i = 0; i < N; i++) {
    if (R.includes(T[i])) B++;
  }
  B -= A;

  renderRow(T, A, B);

  if (A === N) {
    alert('ðŸŽ‰ Congratulations! You guessed all numbers correctly!');
  }

  document.getElementById('guessInput').value = '';
}

function renderRow(T, A, B) {
  const board = document.getElementById('board');
  const row = document.createElement('div');
  row.className = 'mastermind-row';

  T.forEach(num => {
    const box = document.createElement('div');
    box.className = 'guess-box';
    box.textContent = num;
    row.appendChild(box);
  });

  const result = document.createElement('div');
  result.className = 'result-box';
  result.textContent = `${A}A ${B}B`;
  row.appendChild(result);

  board.appendChild(row);
}
</script>

</body>
</html>
